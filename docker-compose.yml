version: '3'

services:
  ai-painting:
    image: ghcr.io/xszhu002/ai_painting:latest
    container_name: ai-painting
    ports:
      - "8000:8000"  # HTTP服务端口
      - "8080:8080"  # API服务端口
    volumes:
      - ./data:/data  # 持久化MongoDB数据
    restart: unless-stopped
    environment:
      - MONGO_HOST=localhost
      - MONGO_PORT=27017
      - PORT=8080
      - DEBUG=False
      - JWT_SECRET=your_secure_jwt_secret  # 建议修改为更安全的密钥 